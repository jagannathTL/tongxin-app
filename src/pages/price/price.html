<!--
  Generated template for the Price page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color='navbar'>
    <ion-title>价格</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)='refresh()'>
        <ion-icon name="refresh"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>
  <div style="background-color:#f4f4f4">
    <div class="swiper-container gallery-thumbs market" style="background-color: #f4f4f4;width:90%;float:left">
      <!-- Additional required wrapper -->
      <div class="swiper-wrapper" id="mID">
        <!-- Slides -->
        <div class="swiper-slide" *ngFor="let selection of inBuckets" (click)="slideToPro(selection)">{{selection.name}}</div>
      </div>

    </div>
    <button *ngIf="isShow" clear style="float:right;width:5%;text-align:center;height:90%;margin-left:0;margin-right:0;" ion-button icon-only (click)="moreBuckets()"><ion-icon name="add" color="danger"></ion-icon></button>
    <!-- 清除浮动 -->
    <div style="clear:both">
    </div>
  </div>


  <div class="swiper-container product" style="height:90%">
    <!-- Additional required wrapper -->
    <div class="swiper-wrapper">
      <!-- Slides -->
      <div class="swiper-slide pro" *ngFor="let s of inBuckets">
        <ion-list>
          <button (click)='gotoPriceDetail(m, s)' ion-item *ngFor="let m of s.markets">
            <ion-grid>
                <ion-row>
                  {{m.name}}
                </ion-row>
                <ion-row style="font-size: 80%">
                    <ion-col >
                      &nbsp;&nbsp;&nbsp;&nbsp;{{m.ProductName}}
                    </ion-col>
                    <ion-col text-right>
                      {{m.Date}}
                    </ion-col>
                </ion-row>
                <ion-row style="font-size: 80%">
                  <ion-col width-25>
                    &nbsp;&nbsp;&nbsp;&nbsp;{{m.Comment}}
                  </ion-col>
                  <ion-col text-right [ngClass]="{'negative': m.Change < 0, 'positive': m.Change > 0, 'zero': m.Change == 0}">
                    {{m.priceString}}
                  </ion-col>
                  <ion-col width-25 text-right [ngClass]="{'negative': m.Change < 0, 'positive': m.Change > 0, 'zero': m.Change == 0}">
                    {{m.absChange}}
                  </ion-col>
                </ion-row>
            </ion-grid>
          </button>
        </ion-list>
      </div>
    </div>
  </div>
</ion-content>
